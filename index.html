<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My Stuff</title>
		<link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="animate.css">
		<style type="text/css" media="screen">
			body {
				color:#444;
				font-family:trebuschet ms, helvetica, arial, sans-serif;
			}

			a {color:#222;}

			body > header {
				
				padding:5px;
				background:#444;
			}

			h1 { font-size:90%; margin:5px;color:#eee;}
			h2 { font-size:80%; color:#999; margin:5px;}

			.add-task,
			#enter-time {


				position:relative;
			
				margin:10px;
				border:1px solid #ccc;
				
				display:none;

				background-color: whiteSmoke;
				margin-bottom: 20px;
				padding: 10px;
				min-height: 20px;
				border: 1px solid #EEE;
				border: 1px solid rgba(0, 0, 0, 0.05);
				-webkit-border-radius: 4px;
				-moz-border-radius: 4px;
				border-radius: 4px;
				-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
				-moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
				box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);



			}

			
			.add-task .extra {
				
				display:none;

			}

			.add-task input[type=text]
			{
				
				width:400px;
				font-size:120%;
			

			}

			.add-task button + label {
				
				font-size:80%;
				color:#ccc;
				display:block;
				font-style:italic;



			}

			.add-task button {
				
				font-size:150%;
				opacity:0;

			}

			.add-task form {
				
				margin-left:50px;

			}

			
			#enter-time #time_edit { width: 40px;}

			.task {
				
				border:1px solid #eee;
				position:relative;
				clear:both;
				overflow:hidden;
				background:#f0f0f0;

			}

			.task .task {
				
				margin:10px;
				display:none;
				background:#fff;
				border:1px solid #ccc;

			}

			.task .task > header {
				
				margin:5px;

			}



			.task.complete > header {
				
				text-decoration: line-through;

			}

			.selected .task {
				
				display:block;

			}

			.task .history {
				display:none;
				background:#fff;	
			}
			.selected .history { 

				display:block; 
		
			
				background:#fff;
				margin:20px;
			

			}

			.selected {
				
				background:#efc;
				box-shadow:-0px 0 3px #999 inset;

			}

			.selected .history:before {
				

			}

			.history {
				clear:left;
				color:#999;
				font-size:75%;
				position:fixed;
				bottom:0;
				width:100%;
			}

			.history header
			{
				
				display:none;

			}

			.history li {
				
				margin:5px;

			}

			.task > header { margin:5px; float:left;}
			.task h2 {color:#222;}
			.task section {
				
				float:left;

			}

			.task .meta {
				float:right;
				margin:10px;
			
			}

			.selected .meta li,
			.task:hover .meta li{
				
				display:block;

			}

			.due-date li.due-date {
				
				display:block;

			}



			.actions li,
			.meta li,
			.history li
			{ list-style-type:none;}

			.actions li,
			.meta li {
				display:none;
				float:left;
				margin-left:3px;

			}

			.meta  {
				
				font-size:45%;

			}

			.meta li a { 
				display:block;
				
				padding:3px;
				text-decoration:none;
				text-transform:uppercase;

			}

			.action a:hover {
				
				background:#fff;

			}

			.new-task {
				border:1px dashed #eee;
				position:relative;
				clear:both;
				overflow:hidden;
				background:#ddd;
			}

			.new-task.selected
			{
				background:#efc;
				border:2px dashed #999;
			}

			.new-task.selected header {
				
				margin:3px;

			}

			.new-task.selected h2:before {

				content:"+ ";

				
			}

			.new-task > header {
				
				font-style: italic;
				color:#999;
				margin:5px;

			}

			#tasks {}

			#contexts {
				
				margin:5px;
				border:1px solid #ccc;
				box-shadow:0 0 5px #aaa;

			}

			#contexts li {
				list-style-type:none;

			}

			.context {
			
				background:#eee;
					

			}

			.context a{
				
				padding:5px;
				margin:1px;
				display:block;
				font-size:60%;
				text-decoration:none;
				text-transform:uppercase;
				font-weight:bold;
				color:666;

			}

			.context.active {
				
				background:#cfe;

			}

			.context a:before {
				
				content: "@";
				color:#999;

			}




		</style>

		<script src="jquery-1.7.min.js"></script>   

		<script type="text/javascript" charset="utf-8">

			document.onkeyup = KeyCheck;       
 
			

		$(function() {
			
			$(".task").click(function(){$(".task").removeClass("selected");$(this).addClass("selected")});
			$(".task:first").click();

			$(".context").click(function(){$(".context").removeClass("active");$(this).addClass("active")});


			$("#add-time").focus(function(){
				
				getTasks();

			});

		});

		function KeyCheck(e)
			{
			   

			   var KeyID = (window.event) ? event.keyCode : e.keyCode;

			   if(!$("input").is(":focus")){

			   var index = $(".task").index($(".task.selected"));
	 			
	 		   var len = $(".task").length;	

	 		  

			   switch(KeyID)
			   {
	 				case 192: // Tilde
	 				$(".add-task").slideToggle("fast");
	 				$("#add-task-input").focus();
	 				break;
	 				case 220: // Back Slash
	 				$("#enter-time").slideToggle("fast");
	 				$("#add-time").val($(".selected header:first").text().trim());
	 				$("#time_edit").focus();
	 				break;
	 				case 40: //Down
	 				$(".selected").next().click();
	 				break;
	 				case 38: //Up
	 				$(".selected").prev(".task").click();
	 				break;

	 				case 32: //Space
	 				if($(".selected").is("complete")){
	 					$(".selected").removeClass("complete");
	 				}
	 				else 
	 				{
	 				$(".selected").toggleClass("complete");
	 				$(".selected").find("log-time a").focus();
	 				//$("#enter-time").slideDown();
					//$("#add-time").val($(".selected>header").text().trim()).focus();
					}
	 				break;
	 				case 13: // enter
	 				if($(".selected").is(".new-task"))
	 				{
	 					$(".add-task").slideToggle("fast");
	 					$("#add-task-input").focus();
	 				
	 				}
	 				else
	 				{
	 					//$("#enter-time").slideToggle("fast");
	 					//$("#add-time").focus();

	 					$("#enter-time").slideToggle("fast");
		 				$("#add-time").val($(".selected header:first").text().trim());
		 				$("#time_edit").focus();
	 				}
	 				break;

			   }
			}
			else
			{
				
				if(KeyID==27)
				{
					$("input").blur();
					$(".add-task:visible, #enter-time:visible").hide();


				}

			}
			
		}

		function NextTask()
		{
			if(!$(".task.selected").length)
			{
				
			}
		}

		function getTasks()
		{
			$("#tasksDataList").remove();
			var tasks = [];
			var datalist = $("<datalist id='tasksDataList' name='tasks'></datalist>");
			$(".task.active").each(function(){
				var txt = $("header:first",this).text().trim();
				var opt = $("<option></option>");
				$(opt).attr("label",txt).val(txt);
				$(datalist).append(opt)
			});

			$("#enter-time").append(datalist);

			


		}

		function addTask()
		{
			

		}

		function logTime() 
		{
			
		}

		</script>

	</head>
	<body>
	<header>
		<hgroup>
				<h1>My Stuff</h1>
				<h2>Tasks at glance</h2>
		</hgroup>
		
	</header><!-- /header -->
		<section class="add-task">
		<header>
			<h2>Add task</h2>
			
		</header><!-- /header -->
		<form action="#" method="get" accept-charset="utf-8">
			<input type="text" id="add-task-input" name="add-task" value="" placeholder="Type Task name" accesskey="n"> 
			<label for="add-task">Enter the task you can add context by using @CONTEXT</label>
		
			<section class="extra">
				<label>Due Date<input type="date" name="" value=""></label> 
				<label>Priority<input type="range" name="" value=""></label>
			</section><!-- / -->
			<button type="submit">Save</button>
		</form>
			
		</section><!-- / -->
		<section id="enter-time">
			<header>
				<h2>Log Time</h2>
			</header><!-- /header -->
			<form action="#" method="get" accept-charset="utf-8">
				
				<input type="text" list="tasksDataList" id="add-time" name="add-time" value="" placeholder="Enter Time entry" accesskey="n">
				<input type="text" name="time[edit]" id="time_edit" list="timeValues" value="" placeholder="">
				<label for="add-time">Enter the length of time and quick description e.g. ".5h Coding" or "2h Documentation" </label> 
				<button type="submit">Save</button>
				<datalist id="timeValues">
					<option value=".25" label=".25"></option>
					<option value=".5" label=".5"></option>
					<option value=".75" label=".75"></option>
					<option value="1" label="1"></option>
					<option value="1.5" label="1.5"></option>
					<option value="2" label="2"></option>
					<option value="2.5" label="2.5"></option>
					<option value="3" label="3"></option>
					<option value="4" label="4"></option>
					<option value="5" label="5"></option>
					<option value="6" label="6"></option>
					<option value="7" label="7"></option>
					<option value="8" label="8"></option>
					<option value=".25" label=".25"></option>
					<option value=".25" label=".25"></option>
				</datalist>
			</form>
			
		</section><!-- / -->
		<section id="tasks" class="">
			<article id="" class="task active repeats due-date normal">
				<header >
					<h2>Create Documentation </h2>
				</header>
					<section class="description">
						
					</section><!-- / -->
					
					
					<section class="meta">
						<ul class="">
							<li class="action complete"><a href="#" title=""><span>Complete</span></a></li>
							<li class="action log-time"><a href="#" title=""><span>Log Time</span></a></li>
							<li class="in-context"><a href="#" title="">@My Work</a></li>
						
							<li class="due-date"><a href="#" title="">Oct 15</a></li>
							<li class="priority normal"><a href="#" title="">Normal</a></li>
							<li class="action status"><a href="#" title="">Active</a></li>
							<li class="action delete"><a href="#" title="">x</a></li>
						</ul><!-- / -->
					</section><!-- / -->
					<section class="history">
					<header>
						<h3>Task History</h3>
					</header><!-- /header -->
							<ul>
								<li>
								<span class="date">October 1st, 2011</span>
								<span class="action">Created </span>
								</li>
								<li>
								<span class="date">October 2st, 2011</span>
								<span class="action">2 Hours Logged</span>
								<span class="note">Working on particular aspect</span>
								</li>
								<li>
								<span class="date">October 3st, 2011</span>
								<span class="action">1 Hours Logged</span>
								<span class="note">Documentation</span>
								</li>
							</ul><!-- / -->
						
					</section><!-- / -->	
				
			</article><!-- / -->

			<article id="" class="task">
				<header >
					<h2>Code the Mockup</h2>
				</header>
					<section class="description">
						
					</section><!-- / -->
					
					
					<section class="meta">
						<ul class="">
							<li class="action complete"><a href="#" title=""><span>Complete</span></a></li>
							<li class="action log-time"><a href="#" title=""><span>Log Time</span></a></li>
							<li class="in-context"><a href="#" title="">@My Work</a></li>
							<li class="repeats"><a href="#" title="">Monthly</a></li>
							<li class="due-date"><a href="#" title="">Oct 15</a></li>
							<li class="priority normal"><a href="#" title="">Normal</a></li>
							<li class="action status"><a href="#" title="">Active</a></li>
							<li class="action delete"><a href="#" title="">x</a></li>
						</ul><!-- / -->
					</section><!-- / -->
					<section class="history">
					<header>
						<h3>Task History</h3>
					</header><!-- /header -->
							<ul>
								<li>
								<span class="date">October 10st, 2011</span>
								<span class="action">Created </span>
								</li>
								<li>
								<span class="date">October 12st, 2011</span>
								<span class="action">2 Hours Logged</span>
								<span class="note">Working on particular aspect</span>
								</li>
								<li>
								<span class="date">October 13st, 2011</span>
								<span class="action">1 Hours Logged</span>
								<span class="note">Documentation</span>
								</li>
							</ul><!-- / -->
						
					</section><!-- / -->	
				
			</article><!-- / -->

			<article id="" class="task active due-date">
				<header >
					<h2>Do some thing </h2>
				</header>
					<section class="description">
						
					</section><!-- / -->
					
					
					<section class="meta">
						<ul class="">
							<li class="action complete"><a href="#" title=""><span>Complete</span></a></li>
							<li class="action log-time"><a href="#" title=""><span>Log Time</span></a></li>
							<li class="in-context"><a href="#" title="">@My Work</a></li>
							<li class="repeats"><a href="#" title="">Weekly</a></li>
							<li class="due-date"><a href="#" title="">Oct 15</a></li>
							<li class="priority normal"><a href="#" title="">Normal</a></li>
							<li class="action status"><a href="#" title="">Active</a></li>
							<li class="action delete"><a href="#" title="">x</a></li>
						</ul><!-- / -->
					</section><!-- / -->
					<section class="history">
					<header>
						<h3>Task History</h3>
					</header><!-- /header -->
							<ul>
								<li>
								<span class="date">October 11st, 2011</span>
								<span class="action">Created </span>
								</li>
								<li>
								<span class="date">October 22st, 2011</span>
								<span class="action">2 Hours Logged</span>
								<span class="note">Working on particular aspect</span>
								</li>
								<li>
								<span class="date">October 31st, 2011</span>
								<span class="action">1 Hours Logged</span>
								<span class="note">Documentation</span>
								</li>
							</ul><!-- / -->
						
					</section><!-- / -->	
				
			</article><!-- / -->
			<article id="" class="task new-task">
			<header >
				<h2>Add Task</h2>
			</header><!-- /header -->		
				
			</article><!-- / -->
		</section><!-- / -->
		<section id="contexts" class="">
			<header>
				<h2>My Contexts</h2>
			</header><!-- /header -->
			<ul id="" class="list">
				<li class="context"><a href="#" title="">My Work</a></li>
				<li class="context"><a href="#" title="">SOW Work</a></li>
				<li class="context"><a href="#" title="">PMED Objectives</a></li>
				<li class="context"><a href="#" title="">Innovation</a></li>
				<li class="context"><a href="#" title="">Training</a></li>
				<li class="context"><a href="#" title="">Admin</a></li>
				<li class="context"><a href="#" title="">Misc</a></li>
			</ul><!-- / -->
		</section><!-- / -->
		
	</body>
</html>